/*
 * OCR.cpp
 *
 *  Created on: 20 apr. 2019
 *      Author: gerja
 */

#include "OCR.h"

uint8_t data[] = {255, 255, 75, 205, 255, 255, 255, 255, 255, 255, 255, 255, 15, 105, 205, 255, 255, 255, 255, 255, 255, 195, 0, 205, 255, 255, 255, 255, 255, 255, 255, 165, 15, 105, 205, 255, 255, 255, 255, 255, 255, 0, 0, 135, 195, 195, 195, 195, 135, 135, 135, 15, 0, 105, 205, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 105, 205, 255, 255, 255, 255, 255, 165, 165, 165, 165, 165, 165, 165, 215, 215, 215, 155, 105, 0, 105, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 225, 15, 105, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 115, 155, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 135, 255, 255, 255, 255, 255, 255, 255, 255, 205, 75, 15, 65, 205, 255, 255, 255, 255, 255, 125, 0, 165, 255, 255, 255, 255, 255, 255, 205, 75, 15, 0, 5, 205, 255, 255, 255, 255, 255, 75, 15, 165, 255, 255, 255, 255, 255, 205, 75, 15, 0, 15, 5, 205, 255, 255, 255, 255, 255, 0, 15, 255, 255, 255, 255, 255, 205, 75, 15, 75, 165, 75, 5, 205, 255, 255, 255, 255, 255, 0, 15, 255, 255, 255, 255, 205, 75, 0, 135, 225, 205, 115, 5, 205, 255, 255, 255, 255, 255, 115, 0, 15, 195, 195, 135, 15, 0, 165, 225, 255, 205, 115, 5, 205, 255, 255, 255, 255, 255, 235, 5, 0, 0, 0, 0, 0, 165, 225, 255, 255, 205, 115, 5, 205, 255, 255, 255, 255, 255, 255, 255, 115, 115, 115, 165, 225, 225, 255, 255, 255, 255, 115, 65, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 135, 255, 255, 255, 255, 255, 255, 255, 255, 255, 105, 0, 195, 255, 255, 255, 255, 255, 255, 125, 0, 175, 255, 255, 255, 255, 255, 255, 255, 255, 165, 15, 135, 255, 255, 255, 255, 255, 255, 15, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 215, 65, 15, 205, 255, 255, 255, 255, 255, 0, 15, 255, 255, 255, 125, 0, 255, 255, 255, 255, 255, 65, 0, 205, 255, 255, 255, 255, 255, 0, 15, 255, 255, 255, 65, 0, 195, 255, 255, 255, 255, 65, 15, 255, 255, 255, 255, 255, 255, 125, 15, 195, 255, 215, 0, 0, 75, 255, 255, 255, 105, 0, 135, 255, 255, 255, 255, 255, 255, 185, 0, 0, 0, 0, 0, 65, 0, 15, 15, 15, 0, 0, 235, 255, 255, 255, 255, 255, 255, 255, 185, 65, 65, 125, 255, 255, 125, 5, 5, 0, 185, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 20, 0, 0, 185, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 10, 0, 0, 0, 185, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 0, 0, 125, 0, 0, 185, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 10, 0, 0, 155, 205, 35, 0, 185, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 125, 205, 255, 255, 35, 0, 185, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 15, 205, 195, 135, 135, 10, 0, 25, 75, 135, 185, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 205, 255, 255, 255, 255, 255, 95, 95, 95, 95, 95, 95, 95, 95, 0, 0, 35, 95, 155, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 95, 0, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 215, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 245, 195, 195, 195, 195, 195, 255, 255, 255, 255, 255, 15, 0, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 15, 255, 255, 255, 255, 125, 0, 65, 255, 255, 255, 255, 255, 255, 0, 0, 115, 115, 5, 0, 75, 255, 255, 255, 255, 255, 0, 65, 255, 255, 255, 255, 255, 255, 0, 15, 255, 255, 255, 0, 75, 255, 255, 255, 255, 255, 0, 5, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255, 0, 15, 255, 255, 255, 255, 225, 0, 65, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255, 0, 0, 195, 255, 255, 225, 15, 0, 115, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255, 155, 0, 0, 0, 0, 0, 0, 115, 255, 255, 255, 255, 255, 255, 255, 0, 115, 255, 255, 255, 255, 155, 65, 0, 0, 115, 115, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 185, 15, 0, 0, 0, 15, 75, 225, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 125, 0, 0, 0, 0, 0, 0, 0, 0, 0, 75, 225, 255, 255, 255, 255, 255, 255, 255, 15, 0, 0, 105, 55, 0, 105, 215, 215, 155, 15, 0, 15, 215, 255, 255, 255, 255, 255, 115, 0, 75, 215, 255, 65, 0, 225, 255, 255, 255, 215, 15, 0, 215, 255, 255, 255, 255, 255, 0, 15, 225, 255, 255, 15, 15, 255, 255, 255, 255, 255, 65, 0, 155, 255, 255, 255, 255, 255, 0, 15, 255, 255, 255, 65, 0, 165, 255, 255, 255, 255, 15, 0, 155, 255, 255, 255, 255, 255, 0, 15, 255, 255, 255, 115, 0, 15, 125, 205, 185, 75, 0, 15, 215, 255, 255, 255, 255, 255, 55, 105, 255, 255, 255, 215, 55, 0, 0, 0, 0, 0, 15, 165, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 215, 55, 55, 0, 75, 105, 165, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 215, 105, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 105, 105, 205, 255, 255, 255, 255, 255, 255, 255, 255, 215, 215, 215, 205, 255, 255, 255, 255, 255, 105, 105, 205, 255, 255, 255, 255, 255, 255, 215, 215, 165, 105, 165, 205, 255, 255, 255, 255, 255, 105, 105, 205, 255, 255, 255, 255, 215, 215, 165, 105, 165, 165, 205, 205, 255, 255, 255, 255, 255, 105, 105, 205, 255, 255, 215, 215, 165, 105, 165, 165, 205, 205, 255, 255, 255, 255, 255, 255, 255, 105, 105, 205, 215, 215, 165, 105, 165, 165, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 105, 105, 155, 165, 105, 165, 165, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 105, 105, 105, 165, 165, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 155, 155, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 215, 105, 105, 165, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 105, 105, 105, 105, 255, 105, 105, 105, 105, 105, 105, 255, 255, 255, 255, 255, 255, 255, 155, 105, 105, 205, 105, 105, 105, 105, 205, 205, 205, 155, 105, 165, 255, 255, 255, 255, 255, 255, 105, 105, 255, 255, 255, 105, 105, 165, 255, 255, 255, 255, 105, 105, 205, 255, 255, 255, 255, 255, 105, 165, 255, 255, 255, 155, 105, 165, 255, 255, 255, 255, 155, 105, 205, 255, 255, 255, 255, 255, 105, 105, 255, 255, 255, 255, 105, 105, 255, 255, 255, 255, 105, 105, 205, 255, 255, 255, 255, 255, 155, 105, 225, 255, 255, 105, 105, 105, 165, 255, 255, 215, 105, 165, 205, 255, 255, 255, 255, 255, 205, 105, 105, 105, 105, 105, 205, 105, 105, 105, 105, 105, 105, 205, 255, 255, 255, 255, 255, 255, 255, 205, 155, 105, 205, 205, 255, 205, 155, 105, 105, 165, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 185, 125, 0, 0, 125, 185, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 125, 0, 15, 15, 15, 15, 0, 125, 255, 255, 215, 215, 55, 215, 255, 255, 255, 255, 255, 215, 0, 75, 195, 205, 205, 135, 75, 15, 225, 255, 215, 195, 5, 155, 255, 255, 255, 255, 255, 0, 15, 205, 255, 255, 255, 255, 75, 15, 165, 255, 215, 195, 5, 155, 255, 255, 255, 255, 255, 75, 15, 205, 255, 255, 255, 255, 215, 15, 165, 255, 215, 75, 5, 155, 255, 255, 255, 255, 255, 75, 0, 125, 255, 255, 255, 215, 175, 15, 165, 215, 185, 15, 65, 205, 255, 255, 255, 255, 255, 215, 15, 0, 125, 125, 185, 185, 0, 0, 65, 65, 15, 75, 155, 255, 255, 255, 255, 255, 255, 255, 135, 15, 0, 0, 0, 0, 0, 0, 15, 75, 75, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 105, 105, 105, 105, 105, 105, 165, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, };
uint32_t minScore = 30000;

OCR::OCR() {
	for (int i = 0; i < characters; ++i) {
		referenceImages[i] = ReferenceImage((uint32_t)data+i*imageDataSize*imageDataSize);
	}
}

OCR::~OCR() {
	// TODO Auto-generated destructor stub
}

void OCR::draw(uint16_t x, uint16_t y) {
	for (uint8_t i = 0; i < characters; ++i) {
		referenceImages[i].draw(x + i * 22,y);
	}
}

ReferenceImage* OCR::getReferenceImage(uint8_t i) {
	return &referenceImages[i];
}

uint8_t OCR::recognizeNumber(Image *image) {
	uint32_t scores[characters] = {0};
	for (int i = 0; i < characters; ++i) {
		scores[i] = getReferenceImage(i)->generateScore(image);
	}

	uint8_t highestScore = 0;
	for (int i = 1; i < characters; ++i) {
		if(scores[i] > scores[highestScore]) highestScore = i;
	}
	printf("score: %d\n",scores[highestScore]);
	if(scores[highestScore] > minScore) {
		return highestScore+1;
	} else {
		return 0;
	}

}

void OCR::save() {
	//IOWR_32DIRECT(0x0BFF0000,0,flashBase);
	printf("=================\n");
	printf("{");
	for (uint8_t i = 0; i < characters; ++i) {
		getReferenceImage(i)->save();
	}
	printf("}\n");
	printf("=================\n");
	printf("reference data saved.\n");
}

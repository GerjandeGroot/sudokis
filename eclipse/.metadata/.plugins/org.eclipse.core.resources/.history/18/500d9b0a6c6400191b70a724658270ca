/*
 * OCR.cpp
 *
 *  Created on: 20 apr. 2019
 *      Author: gerja
 */

#include "OCR.h"

uint8_t data[] = {255, 215, 0, 225, 255, 255, 255, 255, 255, 255, 255, 155, 0, 105, 205, 255, 255, 255, 255, 255, 255, 95, 0, 225, 255, 255, 255, 255, 255, 255, 255, 65, 0, 105, 205, 255, 255, 255, 255, 255, 155, 0, 0, 35, 95, 95, 95, 95, 35, 35, 35, 0, 0, 105, 205, 255, 255, 255, 255, 255, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 105, 205, 255, 255, 255, 255, 255, 185, 185, 185, 185, 185, 185, 185, 235, 235, 235, 175, 5, 0, 105, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 185, 0, 105, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 115, 155, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 95, 255, 255, 255, 255, 255, 255, 255, 205, 165, 0, 0, 65, 205, 255, 255, 255, 255, 255, 85, 10, 125, 255, 255, 255, 255, 255, 205, 165, 0, 0, 0, 5, 205, 255, 255, 255, 255, 255, 35, 10, 185, 255, 255, 255, 255, 205, 165, 35, 10, 0, 0, 5, 205, 255, 255, 255, 255, 255, 0, 10, 255, 255, 255, 255, 205, 165, 35, 10, 95, 65, 25, 5, 205, 255, 255, 255, 255, 255, 0, 0, 255, 255, 205, 205, 165, 35, 10, 155, 185, 105, 65, 5, 205, 255, 255, 255, 255, 255, 75, 0, 0, 155, 155, 35, 10, 10, 185, 245, 205, 105, 65, 5, 205, 255, 255, 255, 255, 255, 255, 10, 10, 10, 10, 10, 10, 185, 245, 255, 205, 105, 65, 5, 205, 255, 255, 255, 255, 255, 255, 255, 65, 65, 65, 175, 235, 235, 255, 255, 255, 205, 65, 65, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 255, 255, 255, 255, 255, 255, 255, 255, 215, 0, 10, 205, 255, 255, 255, 255, 255, 255, 35, 0, 145, 255, 255, 255, 255, 255, 255, 255, 215, 75, 10, 85, 255, 255, 255, 255, 255, 255, 0, 20, 255, 255, 255, 255, 255, 255, 255, 255, 255, 125, 0, 0, 205, 255, 255, 255, 255, 255, 0, 20, 255, 255, 255, 0, 20, 255, 255, 255, 255, 155, 0, 0, 205, 255, 255, 255, 255, 255, 0, 20, 255, 255, 215, 0, 20, 225, 255, 255, 255, 155, 0, 0, 255, 255, 255, 255, 255, 255, 0, 0, 225, 215, 125, 0, 0, 45, 255, 255, 215, 0, 10, 85, 255, 255, 255, 255, 255, 255, 95, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 10, 245, 255, 255, 255, 255, 255, 255, 255, 215, 0, 35, 95, 255, 205, 35, 0, 0, 0, 155, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 0, 0, 10, 215, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 10, 0, 0, 10, 215, 235, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 65, 10, 10, 95, 0, 10, 215, 235, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 0, 10, 30, 185, 175, 0, 10, 215, 235, 255, 255, 255, 255, 255, 255, 255, 255, 255, 105, 0, 10, 155, 235, 255, 205, 0, 10, 215, 235, 255, 255, 255, 255, 255, 255, 255, 255, 105, 0, 0, 0, 55, 45, 0, 0, 0, 0, 0, 0, 35, 185, 255, 255, 255, 255, 255, 255, 10, 10, 10, 10, 10, 10, 10, 0, 0, 0, 0, 10, 0, 0, 205, 255, 255, 255, 255, 255, 125, 125, 125, 125, 125, 125, 125, 65, 0, 10, 10, 65, 115, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 45, 0, 165, 215, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 215, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 55, 55, 0, 0, 0, 175, 235, 235, 235, 115, 0, 0, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 30, 235, 235, 235, 235, 0, 0, 65, 255, 255, 255, 255, 255, 255, 0, 0, 95, 155, 20, 0, 55, 255, 255, 255, 255, 115, 0, 65, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 225, 0, 115, 255, 255, 255, 255, 115, 0, 5, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 225, 0, 0, 255, 255, 255, 215, 25, 0, 65, 255, 255, 255, 255, 255, 255, 0, 10, 255, 255, 225, 0, 0, 55, 165, 165, 25, 0, 0, 115, 255, 255, 255, 255, 255, 255, 0, 40, 255, 255, 255, 75, 0, 0, 0, 0, 0, 0, 145, 255, 255, 255, 255, 255, 255, 255, 30, 145, 255, 255, 255, 255, 185, 10, 0, 20, 145, 145, 235, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 85, 0, 0, 0, 0, 0, 35, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255, 165, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25, 235, 255, 255, 255, 255, 255, 255, 215, 0, 0, 0, 65, 15, 0, 65, 235, 235, 115, 0, 0, 0, 215, 255, 255, 255, 255, 255, 75, 0, 35, 235, 215, 85, 0, 245, 255, 255, 215, 175, 0, 0, 215, 255, 255, 255, 255, 255, 0, 0, 245, 255, 215, 0, 0, 255, 255, 255, 215, 255, 15, 0, 155, 255, 255, 255, 255, 255, 0, 0, 255, 255, 215, 0, 0, 125, 255, 215, 215, 255, 0, 0, 155, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255, 75, 0, 0, 85, 165, 205, 35, 0, 0, 215, 255, 255, 255, 255, 255, 65, 115, 255, 255, 255, 225, 65, 0, 0, 0, 0, 0, 0, 175, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 225, 65, 65, 0, 25, 115, 175, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 125, 0, 235, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 235, 255, 255, 255, 255, 255, 255, 255, 205, 125, 115, 215, 205, 255, 255, 255, 255, 255, 0, 0, 235, 255, 255, 255, 255, 255, 165, 125, 65, 15, 5, 165, 205, 255, 255, 255, 255, 255, 0, 0, 235, 255, 255, 255, 165, 125, 65, 15, 15, 135, 185, 205, 205, 255, 255, 255, 255, 255, 0, 0, 235, 255, 165, 125, 65, 15, 15, 135, 195, 235, 225, 255, 255, 255, 255, 255, 255, 255, 0, 0, 115, 125, 65, 75, 15, 135, 195, 235, 235, 235, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 5, 75, 75, 135, 195, 235, 235, 235, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 5, 5, 5, 125, 185, 225, 225, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 155, 155, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 165, 55, 55, 115, 255, 255, 255, 255, 255, 255, 255, 255, 255, 105, 55, 55, 55, 55, 205, 55, 55, 55, 55, 55, 55, 255, 255, 255, 255, 255, 255, 255, 165, 55, 55, 215, 55, 55, 55, 55, 215, 215, 215, 105, 55, 115, 255, 255, 255, 255, 255, 255, 55, 55, 255, 255, 255, 55, 55, 115, 255, 255, 255, 255, 55, 55, 205, 255, 255, 255, 255, 255, 55, 115, 255, 255, 255, 165, 55, 115, 255, 255, 255, 255, 105, 55, 205, 255, 255, 255, 255, 255, 55, 55, 255, 255, 255, 255, 55, 55, 255, 255, 255, 255, 55, 55, 205, 255, 255, 255, 255, 255, 165, 55, 175, 205, 205, 55, 55, 55, 115, 255, 255, 165, 55, 115, 205, 255, 255, 255, 255, 255, 215, 55, 55, 55, 55, 55, 215, 55, 55, 55, 55, 55, 55, 215, 255, 255, 255, 255, 255, 255, 255, 215, 165, 115, 215, 215, 255, 215, 165, 55, 55, 115, 215, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 35, 0, 0, 0, 95, 215, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 0, 20, 45, 45, 0, 0, 20, 155, 255, 255, 115, 215, 55, 215, 255, 255, 255, 255, 255, 125, 20, 105, 225, 235, 235, 0, 45, 45, 255, 255, 115, 195, 5, 155, 255, 255, 255, 255, 255, 0, 20, 235, 255, 255, 255, 155, 10, 45, 195, 205, 115, 195, 5, 155, 255, 255, 255, 255, 255, 0, 20, 235, 255, 255, 255, 105, 185, 45, 195, 105, 175, 75, 5, 155, 255, 255, 255, 255, 255, 45, 0, 35, 225, 225, 225, 65, 145, 0, 15, 65, 205, 15, 65, 205, 255, 255, 255, 255, 255, 245, 10, 0, 0, 0, 35, 35, 0, 0, 0, 95, 35, 75, 155, 255, 255, 255, 255, 255, 255, 255, 145, 25, 10, 0, 0, 0, 10, 10, 25, 85, 85, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 105, 105, 105, 105, 105, 105, 165, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, };
uint32_t minScore = 30000;

OCR::OCR() {
	for (int i = 0; i < characters; ++i) {
		referenceImages[i] = ReferenceImage((uint32_t)data+i*imageDataSize*imageDataSize);
	}
}

OCR::~OCR() {
	// TODO Auto-generated destructor stub
}

void OCR::draw(uint16_t x, uint16_t y) {
	for (uint8_t i = 0; i < characters; ++i) {
		referenceImages[i].draw(x + i * 22,y);
	}
}

ReferenceImage* OCR::getReferenceImage(uint8_t i) {
	return &referenceImages[i];
}

uint8_t OCR::recognizeNumber(Image *image) {
	uint32_t scores[characters] = {0};
	for (int i = 0; i < characters; ++i) {
		scores[i] = getReferenceImage(i)->generateScore(image);
	}

	uint8_t highestScore = 0;
	for (int i = 1; i < characters; ++i) {
		if(scores[i] > scores[highestScore]) highestScore = i;
	}
	printf("score: %d\n",scores[highestScore]);
	if(scores[highestScore] > minScore) {
		return highestScore+1;
	} else {
		return 0;
	}

}

void OCR::save() {
	//IOWR_32DIRECT(0x0BFF0000,0,flashBase);
	printf("=================\n");
	printf("{");
	for (uint8_t i = 0; i < characters; ++i) {
		getReferenceImage(i)->save();
	}
	printf("}\n");
	printf("=================\n");
	printf("reference data saved.\n");
}

/*
 * OCR.cpp
 *
 *  Created on: 20 apr. 2019
 *      Author: gerja
 */

#include "OCR.h"

uint8_t data[] = {255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 155, 205, 255, 255, 255, 255, 255, 255, 155, 155, 255, 255, 255, 255, 255, 255, 255, 255, 205, 155, 155, 205, 255, 255, 255, 255, 255, 255, 155, 215, 255, 255, 255, 255, 255, 255, 255, 205, 155, 155, 205, 205, 255, 255, 255, 255, 255, 255, 155, 215, 255, 255, 255, 255, 255, 255, 205, 155, 215, 255, 205, 205, 255, 255, 255, 255, 255, 255, 155, 215, 255, 255, 255, 255, 255, 205, 155, 215, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 155, 155, 255, 255, 255, 205, 205, 155, 215, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 155, 155, 155, 155, 155, 155, 215, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 215, 155, 155, 215, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 155, 215, 255, 255, 255, 255, 255, 255, 205, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 155, 255, 255, 255, 255, 255, 255, 155, 155, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 155, 255, 255, 255, 255, 255, 255, 155, 155, 255, 255, 255, 205, 155, 255, 255, 255, 255, 255, 205, 155, 255, 255, 255, 255, 255, 255, 155, 215, 255, 255, 255, 205, 155, 215, 255, 255, 255, 255, 205, 155, 255, 255, 255, 255, 255, 255, 155, 155, 255, 255, 205, 155, 155, 155, 255, 255, 255, 205, 155, 215, 255, 255, 255, 255, 255, 255, 205, 155, 155, 155, 155, 155, 155, 155, 155, 205, 205, 155, 155, 215, 255, 255, 255, 255, 255, 255, 255, 255, 155, 155, 215, 255, 255, 155, 155, 155, 155, 215, 215, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 215, 215, 215, 215, 215, 215, 215, 255, 255, 255, 255, 165, 105, 215, 255, 255, 255, 255, 255, 255, 105, 105, 105, 105, 105, 105, 155, 255, 255, 255, 255, 225, 165, 155, 255, 255, 255, 255, 255, 255, 165, 105, 225, 225, 225, 165, 155, 255, 255, 255, 255, 255, 165, 155, 255, 255, 255, 255, 255, 255, 165, 155, 255, 255, 255, 165, 155, 255, 255, 255, 255, 255, 165, 155, 255, 255, 255, 255, 255, 255, 165, 155, 255, 255, 225, 165, 155, 255, 255, 255, 255, 255, 165, 155, 255, 255, 255, 255, 255, 255, 165, 155, 255, 255, 255, 165, 155, 215, 255, 255, 255, 165, 105, 155, 255, 255, 255, 255, 255, 255, 105, 155, 255, 255, 255, 225, 165, 105, 105, 165, 105, 105, 155, 255, 255, 255, 255, 255, 255, 255, 155, 205, 255, 255, 255, 255, 215, 155, 155, 155, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 155, 155, 105, 105, 105, 105, 105, 155, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 155, 105, 105, 165, 105, 225, 225, 225, 165, 105, 105, 255, 255, 255, 255, 255, 255, 255, 255, 155, 105, 225, 255, 255, 105, 225, 255, 255, 255, 255, 105, 105, 255, 255, 255, 255, 255, 255, 155, 105, 225, 255, 255, 155, 105, 255, 255, 255, 255, 255, 255, 105, 205, 255, 255, 255, 255, 255, 155, 225, 255, 255, 255, 155, 105, 255, 255, 255, 255, 255, 205, 105, 205, 255, 255, 255, 255, 255, 105, 165, 255, 255, 255, 155, 105, 255, 255, 255, 255, 255, 155, 105, 255, 255, 255, 255, 255, 255, 105, 165, 255, 255, 255, 255, 105, 105, 155, 205, 155, 155, 105, 225, 255, 255, 255, 255, 255, 255, 225, 225, 255, 255, 255, 255, 255, 105, 105, 105, 105, 165, 225, 225, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 255, 255, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 255, 255, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 175, 175, 175, 175, 215, 255, 175, 115, 115, 55, 115, 215, 255, 255, 255, 255, 255, 255, 255, 175, 115, 55, 115, 55, 55, 175, 115, 165, 165, 165, 55, 55, 215, 255, 255, 255, 255, 255, 255, 115, 105, 205, 205, 165, 55, 55, 165, 205, 255, 255, 255, 55, 105, 255, 255, 255, 255, 255, 255, 115, 155, 255, 255, 255, 175, 55, 205, 255, 255, 255, 255, 115, 105, 255, 255, 255, 255, 255, 255, 115, 155, 255, 255, 255, 255, 55, 155, 255, 255, 255, 255, 175, 105, 205, 255, 255, 255, 255, 255, 55, 155, 215, 255, 255, 175, 115, 55, 255, 255, 255, 235, 175, 105, 255, 255, 255, 255, 255, 255, 175, 55, 175, 175, 175, 115, 115, 55, 115, 175, 175, 175, 115, 165, 255, 255, 255, 255, 255, 255, 225, 115, 115, 115, 115, 165, 205, 115, 55, 55, 55, 55, 165, 205, 255, 255, 255, 255, 255, 255, 255, 255, 155, 155, 205, 255, 255, 255, 155, 155, 155, 155, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 155, 155, 155, 155, 155, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 155, 215, 215, 215, 215, 155, 155, 215, 255, 255, 205, 155, 205, 255, 255, 255, 255, 255, 255, 205, 215, 255, 255, 255, 255, 255, 155, 215, 255, 255, 255, 205, 205, 255, 255, 255, 255, 255, 255, 155, 215, 255, 255, 255, 255, 255, 205, 215, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 155, 215, 255, 255, 255, 255, 255, 205, 215, 255, 255, 205, 215, 205, 255, 255, 255, 255, 255, 255, 155, 155, 255, 255, 255, 255, 255, 205, 215, 255, 205, 205, 215, 205, 255, 255, 255, 255, 255, 255, 255, 155, 155, 155, 205, 205, 205, 155, 155, 205, 155, 215, 215, 255, 255, 255, 255, 255, 255, 255, 255, 255, 155, 155, 155, 155, 155, 155, 155, 215, 215, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 205, 205, 205, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,};
uint32_t minScore = 30000;

OCR::OCR() {
	for (int i = 0; i < characters; ++i) {
		referenceImages[i] = ReferenceImage((uint32_t)data+i*imageDataSize*imageDataSize);
	}
}

void OCR::draw(uint16_t x, uint16_t y) {
	for (uint8_t i = 0; i < characters; ++i) {
		referenceImages[i].draw(x + i * 22,y);
	}
}

ReferenceImage* OCR::getReferenceImage(uint8_t i) {
	return &referenceImages[i];
}

uint8_t OCR::recognizeNumber(Image *image) {
	uint32_t scores[characters] = {0};
	for (int i = 0; i < characters; ++i) {
		scores[i] = getReferenceImage(i)->generateScore(image);
	}

	uint8_t highestScore = 0;
	for (int i = 1; i < characters; ++i) {
		if(scores[i] > scores[highestScore]) highestScore = i;
	}
	printf("score: %d\n",scores[highestScore]);
	if(scores[highestScore] > minScore) {
		return highestScore+1;
	} else {
		return 0;
	}

}

void OCR::save() {
	printf("=================\n");
	printf("{");
	for (uint8_t i = 0; i < characters; ++i) {
		getReferenceImage(i)->save();
	}
	printf("}\n");
	printf("=================\n");
	printf("reference data saved.\n");
}
